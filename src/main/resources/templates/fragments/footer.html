<div class="footer text-center" th:fragment="footer">
  
<!--===============================================================================================-->
	<script src="../vendor/jquery/jquery-3.2.1.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/animsition/js/animsition.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/bootstrap/js/popper.js"></script>
	<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/select2/select2.min.js"></script>
	<script>
            $(document).ready(function(){
    debugger;    
        var now = new Date();
    minDate = now.toISOString().substring(0,10);

        $('.date').prop('max', minDate);
        
    
    });
            
            
		$(".js-select2").each(function(){
			$(this).select2({
				minimumResultsForSearch: 20,
				dropdownParent: $(this).next('.dropDownSelect2')
			});


			$(".js-select2").each(function(){
				$(this).on('select2:close', function (e){
					if($(this).val() == "Please chooses") {
						$('.js-show-service').slideUp();
					}
					else {
						$('.js-show-service').slideUp();
						$('.js-show-service').slideDown();
					}
				});
			});
		})
	</script>
        
        <script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
  document.getElementById("main").style.marginLeft= "0";
}
</script>
<!--===============================================================================================-->
	<script src="../vendor/daterangepicker/moment.min.js"></script>
	<script src="../vendor/daterangepicker/daterangepicker.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/countdowntime/countdowntime.js"></script>
<!--===============================================================================================-->
	<script src="../vendor/noui/nouislider.min.js"></script>
	
<!--===============================================================================================-->
	<script src="../js/main.js"></script>


        <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-23581568-13');
</script>



<script>
    
            $(document).ready(function() {
                    $("#itemGroup").change(function() {
                        debugger;
                        var url="/get-group-items";
                        var id="itemId";
                                 var groupId = $("#itemGroup").val();
                                 url=url+"?groupId=" + groupId;
                        sendAjaxRequest(url,id);
                    });
                    
                    $("#itemGroupIssue").change(function() {
                        debugger;
                        var url="/get-group-available-items";
                        var id="itemId";
                                 var groupId = $("#itemGroupIssue").val();
                                 url=url+"?groupId=" + groupId;
                        sendAjaxRequest(url,id);
                    });
                    
                    
                     $("#itemId").change(function() {
                        debugger;
                         var itemId = $("#itemId").val();
                        var url="/get-item-quantity?itemId="+itemId;
                        var id="#available_quantity";
                                         
                         $.get( url, function( data ) {
                             $(id).val(data);   
                         });
                    });
                     $("#quantity").change(function() {
                        debugger;
                         var itemId = $("#itemId").val();
                        var url="/get-item-quantity?itemId="+itemId;
                        var id="#available_quantity";
                                         
                         $.get( url, function( data ) {
                             
                             $(id).val(data);   
                         });
                    });
            });
function sendAjaxRequest(url,dropDownId) {
    debugger;
    
    $.get( url, function( data ) {
        dropDownId="#"+dropDownId;
        $(dropDownId).empty();
         var option ="<option value = 0>Select</option>" ;
        data.forEach(function(item, i) {
            debugger;
           
            option=option+"<option value = " + item.itemId + ">" + item.itemName +  "</option>";
           
        });
         $("#itemId").append(option);
    });
};
 
                        
                        
                        
            
            
</script>

        
            
<!--            <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
            <script src=" https://cdn.datatables.net/buttons/1.5.4/js/dataTables.buttons.min.js"></script>
            <script src="https://cdn.datatables.net/buttons/1.5.4/js/buttons.print.min.js"></script>
            <script src="https://cdn.datatables.net/select/1.2.7/js/dataTables.select.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.0/sweetalert.min.js"></script>-->
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.4/js/dataTables.buttons.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.4/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.4/js/buttons.print.min.js"></script>
 <script>
            $(document).ready(function() {
    var table = $('#gallery-list').DataTable({
        dom: 'Bfrtip',
        buttons: [
            'copy',
            {
                extend: 'excel',
                messageTop: 'The information in this table is copyright to Sirius Cybernetics Corp.'
            },
            {
                extend: 'pdf',
                title:'Stock Report',
         
                messageBottom: new Date()
            },
            {
                extend: 'print',
//                messageTop: function () {
//                    printCounter++;
// 
//                    if ( printCounter === 1 ) {
//                        return 'This is the first time you have printed this document.';
//                    }
//                    else {
//                        return 'You have printed this document '+printCounter+' times';
//                    }
//                },
//                messageBottom: null
            }
        ],
        select: true
        
    });
 
    $('#gallery-list tbody').on( 'click', 'tr', function () {
        $(this).toggleClass('selected');
    } );
 
    $('#form').submit( function (e) {
        debugger;
        e.preventDefault(); 
        var data2=table.rows('.selected').data();
        var data= $.map(table.rows('.selected').data(), function (item) {
        return item[0];
    });
        console.log(data);
        console.log(data2);
        //var formData=new FormData();
         $("#list").val(data);
         var formData=$(this).serialize();
        console.log(formData);
       
        //formData.append("list",data);
        debugger;
        //alert( table.rows('.selected').data().length +' row(s) selected' );
        
        
        
        swal({
                title: "Are you sure? you want to delete "+ table.rows('.selected').data().length+" news?",
                text: "Once deleted, you will not be able to recover !",
                icon: "warning",
                buttons: true,
                dangerMode: true,
                buttons: ["No Cancel", "Yes I am Sure!"],
              })
              .then((willDelete) => {
                if (willDelete) {
                     $.ajax({ url : "/admin/delete-categories", 
                                              type: 'POST', 
                                              data: formData,
                                              success: function (data, textStatus, jqXHR) {
                                      debugger;location. reload(true);
                                  },
                                              error: function (jqXHR, textStatus, errorThrown) {
                                      debugger;location. reload(true);
                                  }

                                           });
                  swal("Poof! Your  file has been deleted!", {
                    icon: "success",
                  });
                } else {
                  swal("Your  file is safe!");
                }
              });

       
                 
                

         
    });
} );
            </script>
</div>